import logo from './logo.svg';
import React, {useState, useEffect} from 'react';
import axios from 'axios';
import './App.css';

const ticker = {
  'BTC': 'bitcoin',
  'ETH': 'ethereum',
  'UNI': 'uniswap'
}
const arrayTheTickers = (ticker) => {
  let tickerArr = []
  let tickers = Object.values(ticker)
  for(let i=0; i<tickers.length; i++){
    tickerArr.push('https://api.coingecko.com/api/v3/coins/'+tickers[i]+'/market_chart?vs_currency=usd&days=7&interval=daily')
  }
  return tickerArr
}
const arrayOfLinks = arrayTheTickers(ticker)
console.log(arrayOfLinks)

function App() {

  const [coins, setCoins] = useState([])

  useEffect((ticker)=>{
    axios
      .all(arrayOfLinks)
      //.get(`https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=7&interval=daily`)
      .then(res=>{setCoins(res.data)})
      .catch(error => alert('error'));
  }, []);


  return (
    <div className="coin-app">
      <thead>
        <tr>
          <th>Symbol</th>
          <th>7d vol</th>
        </tr>
      </thead>
      <tbody>
        <td>BTC</td>
      </tbody>
      </div>
  );
}

export default App;
